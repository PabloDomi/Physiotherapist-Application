import{j as r}from"./jsx-runtime-DoxjgJx5.js";import{_ as T,u as j}from"./react-apexcharts.min-q-jgWU_n.js";/* empty css                     */import{r as l}from"./index-Cu9bd8lq.js";import{u as _}from"./useGlobalState-BC4VoH9w.js";import{G as O}from"./GetDataService-Bc2cEZCe.js";import{B as S}from"./Button-C_g_TbZn.js";function k(s){const i=_(t=>t.theme),[e,n]=l.useState({textColor:"",azulChart:"",naranjaOscuroChart:"",moradoChart:""});l.useEffect(()=>{n(i==="light"?t=>({...t,textColor:"#105a08",azulChart:"#05138e",naranjaOscuroChart:"#c33206",moradoChart:"#7a098a"}):t=>({...t,textColor:"#7ce489",azulChart:"#777ef9",naranjaOscuroChart:"#fd8f6d",moradoChart:"#e38def"}))},[i]);const[a,c]=l.useState({labels:[],porcentualData:[],timeData:[],repsData:[],titleChart:"EstadÃ­sticas de Ejercicios del Paciente",yaxisTitle:"Total Time (s)",yaxisTitleOpposite:"Average Time per Set (s)",yaxisTitleReps:"Average Reps per Set"});l.useEffect(()=>{s.mockData?c(s.mockData):O.getPatientStats(s.patient_id).then(t=>{const x=t.map(o=>o.exercise_name),f=t.map(o=>o.total_time),y=t.map(o=>o.average_series_time),C=t.map(o=>{const D=o.reps_per_series.reduce((b,g)=>b+g,0);return Math.round(D/o.reps_per_series.length)});c(o=>({...o,labels:x,porcentualData:f,timeData:y,repsData:C}))})},[s.patient_id,s.mockData]);const m={chart:{height:350,type:"line",fontFamily:"Tilt Neon, Roboto, system-ui"},stroke:{width:[0,4,4]},theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#255aee",shadeTo:"light",shadeIntensity:.65}},title:{text:a.titleChart,style:{color:"#749c74"}},dataLabels:{enabled:!0,enabledOnSeries:[1,2],style:{colors:["#7a098a","#c33206"],fontSize:"14px"},background:{enabled:!0,foreColor:"#000"}},labels:a.labels,xaxis:{type:"category",labels:{style:{colors:e.textColor}}},yaxis:[{title:{text:a.yaxisTitle,style:{color:e.azulChart}},labels:{formatter:function(t){return Math.round(t).toFixed(0)+" s"},style:{colors:e.textColor}}},{opposite:!0,title:{text:a.yaxisTitleOpposite,style:{color:e.naranjaOscuroChart}},labels:{formatter:function(t){return Math.round(t).toFixed(0)+"s"},style:{colors:e.textColor}}},{opposite:!0,title:{text:a.yaxisTitleReps,style:{color:e.moradoChart}},labels:{formatter:function(t){return Math.round(t).toFixed(0)+" reps"},style:{colors:e.textColor}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},grid:{borderColor:i==="light"?"#222322":"#e7e7e7",position:"back",strokeDashArray:0,yaxis:{lines:{show:!0}},xaxis:{lines:{show:!1}}},colors:[e.azulChart,e.naranjaOscuroChart,e.moradoChart],legend:{offsetY:6,labels:{colors:[e.azulChart,e.naranjaOscuroChart,e.moradoChart]}}},p=[{name:a.yaxisTitle,type:"column",data:a.porcentualData},{name:a.yaxisTitleOpposite,type:"line",data:a.timeData},{name:a.yaxisTitleReps,type:"line",data:a.repsData}],d=l.useRef(null),{downloadPDF:h}=j(),u=()=>{h(d)};return r.jsxs(r.Fragment,{children:[r.jsx("section",{style:{height:"100%",minHeight:"400px",minWidth:"500px"},ref:d,children:r.jsx(T,{options:m,series:p,type:"line",height:"100%"})}),r.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"2rem"},children:r.jsx(S,{sx:{backgroundColor:"#527cdd"},variant:"contained",onClick:u,children:"Descargar PDF"})})]})}k.__docgenInfo={description:"",methods:[],displayName:"CustomStatsChart",props:{patient_id:{required:!0,tsType:{name:"number"},description:""},mockData:{required:!1,tsType:{name:"dataTypes"},description:""}}};export{k as C};
