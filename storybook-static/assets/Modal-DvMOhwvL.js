import{j as l}from"./jsx-runtime-DoxjgJx5.js";import{I as wt,h as yt,B as Rt}from"./index-CCAvIOUn.js";import{u as M}from"./useGlobalState-BC4VoH9w.js";import{C as vt}from"./ChangePasswordService-An_RyOSA.js";import{a as A,b as D}from"./Constants-AkoCtDvz.js";import{G as Xe}from"./GetDataService-Bc2cEZCe.js";import{J as Tt,A as u}from"./index-B9YNeJOq.js";import{c as _,u as Q,d as xt}from"./ThemeProvider-CWR1dq9Q.js";import{r as s,a as Ie}from"./index-Cu9bd8lq.js";import{R as Ye}from"./index-Ckls47V4.js";import{T as bt,b as Ct,c as Mt}from"./Transition-CjjVMZtN.js";import{P as Ce}from"./index-SDyqs4cU.js";const ce=()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),kt=async e=>{const t=ce();try{return{res:await A.delete(`${D}patient_management/patientDelete/${e}`,t)}}catch(n){console.error(n)}},St=async e=>{const t=ce();try{return{res:await A.delete(`${D}user_management/deleteUser/${e}`,t)}}catch(n){console.error(n)}},At=async e=>{const t=ce();try{return{res:await A.delete(`${D}routine_management/deleteRoutine/${e}`,t)}}catch(n){console.error(n)}},Dt=async e=>{const t=ce();try{return{res:await A.delete(`${D}routine_management/deleteExercise/${e}`,t)}}catch(n){console.error(n)}};async function jt(e){const t=ce();try{const{data:n}=await A.delete(`${D}patient_management/deleteTablet/${e}`,t);return n}catch{throw new Error("Error eliminando la tablet")}}const se={DeleteTablet:jt,DeleteExercise:Dt,DeletePatient:kt,DeleteAdmin:St,DeleteRoutine:At};function Re(e){return e&&e.ownerDocument||document}function Nt(e){var t=Re(e);return t&&t.defaultView||window}function _t(e,t){return Nt(e).getComputedStyle(e,t)}var Ot=/([A-Z])/g;function $t(e){return e.replace(Ot,"-$1").toLowerCase()}var Lt=/^ms-/;function pe(e){return $t(e).replace(Lt,"-ms-")}var Bt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ft(e){return!!(e&&Bt.test(e))}function W(e,t){var n="",o="";if(typeof t=="string")return e.style.getPropertyValue(pe(t))||_t(e).getPropertyValue(pe(t));Object.keys(t).forEach(function(r){var a=t[r];!a&&a!==0?e.style.removeProperty(pe(r)):Ft(r)?o+=r+"("+a+") ":n+=pe(r)+": "+a+";"}),o&&(n+="transform: "+o+";"),e.style.cssText+=";"+n}const ee=!!(typeof window<"u"&&window.document&&window.document.createElement);var je=!1,Ne=!1;try{var Me={get passive(){return je=!0},get once(){return Ne=je=!0}};ee&&(window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,!0))}catch{}function Je(e,t,n,o){if(o&&typeof o!="boolean"&&!Ne){var r=o.once,a=o.capture,d=n;!Ne&&r&&(d=n.__once||function g(f){this.removeEventListener(t,g,a),n.call(this,f)},n.__once=d),e.addEventListener(t,d,je?o:a)}e.addEventListener(t,n,o)}function _e(e,t,n,o){var r=o&&typeof o!="boolean"?o.capture:o;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)}function ye(e,t,n,o){return Je(e,t,n,o),function(){_e(e,t,n,o)}}function It(e,t,n,o){if(n===void 0&&(n=!1),o===void 0&&(o=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,o),e.dispatchEvent(r)}}function Ht(e){var t=W(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function Pt(e,t,n){n===void 0&&(n=5);var o=!1,r=setTimeout(function(){o||It(e,"transitionend",!0)},t+n),a=ye(e,"transitionend",function(){o=!0},{once:!0});return function(){clearTimeout(r),a()}}function qe(e,t,n,o){n==null&&(n=Ht(e)||0);var r=Pt(e,n,o),a=ye(e,"transitionend",t);return function(){r(),a()}}function He(e,t){const n=W(e,t)||"",o=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*o}function Wt(e,t){const n=He(e,"transitionDuration"),o=He(e,"transitionDelay"),r=qe(e,a=>{a.target===e&&(r(),t(a))},n+o)}function zt(e){e.offsetHeight}const Pe=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Ut(e,t){const n=Pe(e),o=Pe(t);return r=>{n&&n(r),o&&o(r)}}function le(e,t){return s.useMemo(()=>Ut(e,t),[e,t])}function Gt(e){return e&&"setState"in e?Ye.findDOMNode(e):e??null}const Kt=Ie.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:o,onExiting:r,onExited:a,addEndListener:d,children:g,childRef:f,...h},p)=>{const y=s.useRef(null),w=le(y,f),x=S=>{w(Gt(S))},T=S=>c=>{S&&y.current&&S(y.current,c)},j=s.useCallback(T(e),[e]),O=s.useCallback(T(t),[t]),b=s.useCallback(T(n),[n]),$=s.useCallback(T(o),[o]),N=s.useCallback(T(r),[r]),k=s.useCallback(T(a),[a]),C=s.useCallback(T(d),[d]);return l.jsx(bt,{ref:p,...h,onEnter:j,onEntered:b,onEntering:O,onExit:$,onExited:k,onExiting:N,addEndListener:C,nodeRef:y,children:typeof g=="function"?(S,c)=>g(S,{...c,ref:x}):Ie.cloneElement(g,{ref:x})})}),Vt=Kt;function Xt(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e},[e]),t}function B(e){const t=Xt(e);return s.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Yt=e=>s.forwardRef((t,n)=>l.jsx("div",{...t,ref:n,className:_(t.className,e)}));function Jt(){return s.useState(null)}function qt(){const e=s.useRef(!0),t=s.useRef(()=>e.current);return s.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Zt(e){const t=s.useRef(null);return s.useEffect(()=>{t.current=e}),t.current}const Qt=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",en=typeof document<"u",We=en||Qt?s.useLayoutEffect:s.useEffect,tn={[Ct]:"show",[Mt]:"show"},Ze=s.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:o,...r},a)=>{const d={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},g=s.useCallback((f,h)=>{zt(f),o==null||o(f,h)},[o]);return l.jsx(Vt,{ref:a,addEndListener:Wt,...d,onEnter:g,childRef:t.ref,children:(f,h)=>s.cloneElement(t,{...h,className:_("fade",e,t.props.className,tn[f],n[f])})})});Ze.displayName="Fade";const Qe=Ze,nn={"aria-label":Ce.string,onClick:Ce.func,variant:Ce.oneOf(["white"])},Oe=s.forwardRef(({className:e,variant:t,"aria-label":n="Close",...o},r)=>l.jsx("button",{ref:r,type:"button",className:_("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...o}));Oe.displayName="CloseButton";Oe.propTypes=nn;const rn=Oe;function on(e){const t=s.useRef(e);return t.current=e,t}function et(e){const t=on(e);s.useEffect(()=>()=>t.current(),[])}var an=Function.prototype.bind.call(Function.prototype.call,[].slice);function J(e,t){return an(e.querySelectorAll(t))}function ze(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const sn="data-rr-ui-",cn="rrUi";function ln(e){return`${sn}${e}`}function fr(e){return`${cn}${e}`}const tt=s.createContext(ee?window:void 0);tt.Provider;function $e(){return s.useContext(tt)}var we;function Ue(e){if((!we&&we!==0||e)&&ee){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),we=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return we}function ke(e){e===void 0&&(e=Re());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function dn(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Ge=ln("modal-open");class un{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return dn(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[o]:r.style[o]},t.scrollBarWidth&&(n[o]=`${parseInt(W(r,o)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(Ge,""),W(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Ge),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Le=un,Se=(e,t)=>ee?e==null?(t||Re()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function fn(e,t){const n=$e(),[o,r]=s.useState(()=>Se(e,n==null?void 0:n.document));if(!o){const a=Se(e);a&&r(a)}return s.useEffect(()=>{t&&o&&t(o)},[t,o]),s.useEffect(()=>{const a=Se(e);a!==o&&r(a)},[e,o]),o}function mn({children:e,in:t,onExited:n,mountOnEnter:o,unmountOnExit:r}){const a=s.useRef(null),d=s.useRef(t),g=B(n);s.useEffect(()=>{t?d.current=!0:g(a.current)},[t,g]);const f=le(a,e.ref),h=s.cloneElement(e,{ref:f});return t?h:r||!d.current&&o?null:h}const gn=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function hn(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function En(e){let{onEnter:t,onEntering:n,onEntered:o,onExit:r,onExiting:a,onExited:d,addEndListener:g,children:f}=e,h=hn(e,gn);const p=s.useRef(null),y=le(p,typeof f=="function"?null:f.ref),w=k=>C=>{k&&p.current&&k(p.current,C)},x=s.useCallback(w(t),[t]),T=s.useCallback(w(n),[n]),j=s.useCallback(w(o),[o]),O=s.useCallback(w(r),[r]),b=s.useCallback(w(a),[a]),$=s.useCallback(w(d),[d]),N=s.useCallback(w(g),[g]);return Object.assign({},h,{nodeRef:p},t&&{onEnter:x},n&&{onEntering:T},o&&{onEntered:j},r&&{onExit:O},a&&{onExiting:b},d&&{onExited:$},g&&{addEndListener:N},{children:typeof f=="function"?(k,C)=>f(k,Object.assign({},C,{ref:y})):s.cloneElement(f,{ref:y})})}const pn=["component"];function wn(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}const yn=s.forwardRef((e,t)=>{let{component:n}=e,o=wn(e,pn);const r=En(o);return l.jsx(n,Object.assign({ref:t},r))}),Rn=yn;function vn({in:e,onTransition:t}){const n=s.useRef(null),o=s.useRef(!0),r=B(t);return We(()=>{if(!n.current)return;let a=!1;return r({in:e,element:n.current,initial:o.current,isStale:()=>a}),()=>{a=!0}},[e,r]),We(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function Tn({children:e,in:t,onExited:n,onEntered:o,transition:r}){const[a,d]=s.useState(!t);t&&a&&d(!1);const g=vn({in:!!t,onTransition:h=>{const p=()=>{h.isStale()||(h.in?o==null||o(h.element,h.initial):(d(!0),n==null||n(h.element)))};Promise.resolve(r(h)).then(p,y=>{throw h.in||d(!0),y})}}),f=le(g,e.ref);return a&&!t?null:s.cloneElement(e,{ref:f})}function Ke(e,t,n){return e?l.jsx(Rn,Object.assign({},n,{component:e})):t?l.jsx(Tn,Object.assign({},n,{transition:t})):l.jsx(mn,Object.assign({},n))}function xn(e){return e.code==="Escape"||e.keyCode===27}const bn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Cn(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}let Ae;function Mn(e){return Ae||(Ae=new Le({ownerDocument:e==null?void 0:e.document})),Ae}function kn(e){const t=$e(),n=e||Mn(t),o=s.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:s.useCallback(r=>{o.current.dialog=r},[]),setBackdropRef:s.useCallback(r=>{o.current.backdrop=r},[])})}const nt=s.forwardRef((e,t)=>{let{show:n=!1,role:o="dialog",className:r,style:a,children:d,backdrop:g=!0,keyboard:f=!0,onBackdropClick:h,onEscapeKeyDown:p,transition:y,runTransition:w,backdropTransition:x,runBackdropTransition:T,autoFocus:j=!0,enforceFocus:O=!0,restoreFocus:b=!0,restoreFocusOptions:$,renderDialog:N,renderBackdrop:k=E=>l.jsx("div",Object.assign({},E)),manager:C,container:S,onShow:c,onHide:i=()=>{},onExit:R,onExited:H,onExiting:z,onEnter:de,onEntering:ue,onEntered:fe}=e,ve=Cn(e,bn);const F=$e(),U=fn(S),v=kn(C),Te=qt(),me=Zt(n),[P,G]=s.useState(!n),L=s.useRef(null);s.useImperativeHandle(t,()=>v,[v]),ee&&!me&&n&&(L.current=ke(F==null?void 0:F.document)),n&&P&&G(!1);const I=B(()=>{if(v.add(),K.current=ye(document,"keydown",be),re.current=ye(document,"focus",()=>setTimeout(xe),!0),c&&c(),j){var E,Ee;const ae=ke((E=(Ee=v.dialog)==null?void 0:Ee.ownerDocument)!=null?E:F==null?void 0:F.document);v.dialog&&ae&&!ze(v.dialog,ae)&&(L.current=ae,v.dialog.focus())}}),ne=B(()=>{if(v.remove(),K.current==null||K.current(),re.current==null||re.current(),b){var E;(E=L.current)==null||E.focus==null||E.focus($),L.current=null}});s.useEffect(()=>{!n||!U||I()},[n,U,I]),s.useEffect(()=>{P&&ne()},[P,ne]),et(()=>{ne()});const xe=B(()=>{if(!O||!Te()||!v.isTopModal())return;const E=ke(F==null?void 0:F.document);v.dialog&&E&&!ze(v.dialog,E)&&v.dialog.focus()}),ge=B(E=>{E.target===E.currentTarget&&(h==null||h(E),g===!0&&i())}),be=B(E=>{f&&xn(E)&&v.isTopModal()&&(p==null||p(E),E.defaultPrevented||i())}),re=s.useRef(),K=s.useRef(),he=(...E)=>{G(!0),H==null||H(...E)};if(!U)return null;const V=Object.assign({role:o,ref:v.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},ve,{style:a,className:r,tabIndex:-1});let oe=N?N(V):l.jsx("div",Object.assign({},V,{children:s.cloneElement(d,{role:"document"})}));oe=Ke(y,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:R,onExiting:z,onExited:he,onEnter:de,onEntering:ue,onEntered:fe,children:oe});let X=null;return g&&(X=k({ref:v.setBackdropRef,onClick:ge}),X=Ke(x,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),l.jsx(l.Fragment,{children:Ye.createPortal(l.jsxs(l.Fragment,{children:[X,oe]}),U)})});nt.displayName="Modal";const Sn=Object.assign(nt,{Manager:Le});function An(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Dn(e,t){e.classList?e.classList.add(t):An(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Ve(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function jn(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Ve(e.className,t):e.setAttribute("class",Ve(e.className&&e.className.baseVal||"",t))}const q={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Nn extends Le{adjustAndStore(t,n,o){const r=n.style[t];n.dataset[t]=r,W(n,{[t]:`${parseFloat(W(n,t))+o}px`})}restore(t,n){const o=n.dataset[t];o!==void 0&&(delete n.dataset[t],W(n,{[t]:o}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Dn(n,"modal-open"),!t.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";J(n,q.FIXED_CONTENT).forEach(a=>this.adjustAndStore(o,a,t.scrollBarWidth)),J(n,q.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-t.scrollBarWidth)),J(n,q.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();jn(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";J(n,q.FIXED_CONTENT).forEach(a=>this.restore(o,a)),J(n,q.STICKY_CONTENT).forEach(a=>this.restore(r,a)),J(n,q.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let De;function _n(e){return De||(De=new Nn(e)),De}const rt=s.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},r)=>(t=Q(t,"modal-body"),l.jsx(n,{ref:r,className:_(e,t),...o})));rt.displayName="ModalBody";const On=rt,$n=s.createContext({onHide(){}}),ot=$n,at=s.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:o,size:r,fullscreen:a,children:d,scrollable:g,...f},h)=>{e=Q(e,"modal");const p=`${e}-dialog`,y=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return l.jsx("div",{...f,ref:h,className:_(p,t,r&&`${e}-${r}`,o&&`${p}-centered`,g&&`${p}-scrollable`,a&&y),children:l.jsx("div",{className:_(`${e}-content`,n),children:d})})});at.displayName="ModalDialog";const st=at,it=s.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},r)=>(t=Q(t,"modal-footer"),l.jsx(n,{ref:r,className:_(e,t),...o})));it.displayName="ModalFooter";const Ln=it,Bn=s.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:o,children:r,...a},d)=>{const g=s.useContext(ot),f=B(()=>{g==null||g.onHide(),o==null||o()});return l.jsxs("div",{ref:d,...a,children:[r,n&&l.jsx(rn,{"aria-label":e,variant:t,onClick:f})]})}),Fn=Bn,ct=s.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:o=!1,...r},a)=>(e=Q(e,"modal-header"),l.jsx(Fn,{ref:a,...r,className:_(t,e),closeLabel:n,closeButton:o})));ct.displayName="ModalHeader";const In=ct,Hn=Yt("h4"),lt=s.forwardRef(({className:e,bsPrefix:t,as:n=Hn,...o},r)=>(t=Q(t,"modal-title"),l.jsx(n,{ref:r,className:_(e,t),...o})));lt.displayName="ModalTitle";const Pn=lt;function Wn(e){return l.jsx(Qe,{...e,timeout:null})}function zn(e){return l.jsx(Qe,{...e,timeout:null})}const dt=s.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:o,contentClassName:r,children:a,dialogAs:d=st,"data-bs-theme":g,"aria-labelledby":f,"aria-describedby":h,"aria-label":p,show:y=!1,animation:w=!0,backdrop:x=!0,keyboard:T=!0,onEscapeKeyDown:j,onShow:O,onHide:b,container:$,autoFocus:N=!0,enforceFocus:k=!0,restoreFocus:C=!0,restoreFocusOptions:S,onEntered:c,onExit:i,onExiting:R,onEnter:H,onEntering:z,onExited:de,backdropClassName:ue,manager:fe,...ve},F)=>{const[U,v]=s.useState({}),[Te,me]=s.useState(!1),P=s.useRef(!1),G=s.useRef(!1),L=s.useRef(null),[I,ne]=Jt(),xe=le(F,ne),ge=B(b),be=xt();e=Q(e,"modal");const re=s.useMemo(()=>({onHide:ge}),[ge]);function K(){return fe||_n({isRTL:be})}function he(m){if(!ee)return;const Y=K().getScrollbarWidth()>0,Fe=m.scrollHeight>Re(m).documentElement.clientHeight;v({paddingRight:Y&&!Fe?Ue():void 0,paddingLeft:!Y&&Fe?Ue():void 0})}const V=B(()=>{I&&he(I.dialog)});et(()=>{_e(window,"resize",V),L.current==null||L.current()});const oe=()=>{P.current=!0},X=m=>{P.current&&I&&m.target===I.dialog&&(G.current=!0),P.current=!1},E=()=>{me(!0),L.current=qe(I.dialog,()=>{me(!1)})},Ee=m=>{m.target===m.currentTarget&&E()},ae=m=>{if(x==="static"){Ee(m);return}if(G.current||m.target!==m.currentTarget){G.current=!1;return}b==null||b()},ut=m=>{T?j==null||j(m):(m.preventDefault(),x==="static"&&E())},ft=(m,Y)=>{m&&he(m),H==null||H(m,Y)},mt=m=>{L.current==null||L.current(),i==null||i(m)},gt=(m,Y)=>{z==null||z(m,Y),Je(window,"resize",V)},ht=m=>{m&&(m.style.display=""),de==null||de(m),_e(window,"resize",V)},Et=s.useCallback(m=>l.jsx("div",{...m,className:_(`${e}-backdrop`,ue,!w&&"show")}),[w,ue,e]),Be={...n,...U};Be.display="block";const pt=m=>l.jsx("div",{role:"dialog",...m,style:Be,className:_(t,e,Te&&`${e}-static`,!w&&"show"),onClick:x?ae:void 0,onMouseUp:X,"data-bs-theme":g,"aria-label":p,"aria-labelledby":f,"aria-describedby":h,children:l.jsx(d,{...ve,onMouseDown:oe,className:o,contentClassName:r,children:a})});return l.jsx(ot.Provider,{value:re,children:l.jsx(Sn,{show:y,ref:xe,backdrop:x,container:$,keyboard:!0,autoFocus:N,enforceFocus:k,restoreFocus:C,restoreFocusOptions:S,onEscapeKeyDown:ut,onShow:O,onHide:b,onEnter:ft,onEntering:gt,onEntered:c,onExit:mt,onExiting:R,onExited:ht,manager:K(),transition:w?Wn:void 0,backdropTransition:w?zn:void 0,renderBackdrop:Et,renderDialog:pt})})});dt.displayName="Modal";const ie=Object.assign(dt,{Body:On,Header:In,Title:Pn,Footer:Ln,Dialog:st,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Un=()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});async function Gn(e){const t=Un();try{const{data:n}=await A.post(`${D}patient_management/registerPatient`,e,t);return n}catch{throw new Error("Error en el registro de paciente")}}function Kn(){function e(t){try{if(!t.email||!t.password||!t.newPassword)return new Error("No se han recibido datos");if(Xe.checkEmailExists(t.email),t.password!==t.newPassword)throw new Error("Las contraseñas no coinciden");if(t.newPassword.length<6||t.password.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres")}catch(n){throw console.error(n),new Error("Error al verificar la existencia del email")}}return{checkChangePasswordFormData:e}}const te=()=>({headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});async function Vn(e){const t=te();try{const{data:n}=await A.post(`${D}routine_management/addRoutine`,e,t);return n}catch{throw new Error("Error añadiendo la rutina")}}async function Xn(e){const t=te();try{const{data:n}=await A.post(`${D}routine_management/addExerciseToRoutine`,e,t);return n}catch{throw new Error("Error añadiendo el ejercicio a la rutina")}}async function Yn(e){const t=te();try{const{data:n}=await A.put(`${D}routine_management/updateRoutine`,e,t);return n}catch{throw new Error("Error editando la rutina")}}async function Jn(e){const t=te();try{const{data:n}=await A.put(`${D}routine_management/updateExercise`,e,t);return n}catch{throw new Error("Error editando el ejercicio")}}async function qn(e){const t=te();try{const{data:n}=await A.post(`${D}patient_management/createTablet`,e,t);return n}catch{throw new Error("Error añadiendo la tablet")}}async function Zn(e){const t=te();try{const{data:n}=await A.put(`${D}patient_management/updateTablet`,e,t);return n}catch{throw new Error("Error actualizando la tablet")}}const Z={CreateTablet:qn,EditExerciseService:Jn,AddRoutineService:Vn,AddExerciseToRoutineService:Xn,EditRoutineService:Yn,UpdateTablet:Zn},Qn=({show:e,title:t,content:n,action:o,data:r,behavior:a})=>{const d=M(c=>c.theme),g=M(c=>c.toggleChangePasswordModal),f=M(c=>c.toggleRegisterPatientModal),h=M(c=>c.toggleAreUSureModal),p=M(c=>c.toggleDeleteAdminModal),y=M(c=>c.setCustomStatsDataUndefined),w=M(c=>c.toggleAddRoutineModal),x=M(c=>c.toggleAddExerciseToRoutineModal),{checkChangePasswordFormData:T}=Kn(),j=M(c=>c.toggleEditRoutineModal),O=M(c=>c.toggleDeleteRoutineModal),b=M(c=>c.toggleEditExerciseModal),$=M(c=>c.toggleDeleteExerciseModal),N=M(c=>c.toggleManageTabletsModal),k=()=>{u.error("El paciente ya tiene una rutina asignada")},C=c=>{switch(c.preventDefault(),o){case"changePassword":g(),u.info("Acción cancelada");break;case"registerPatient":f(),u.info("Acción cancelada");break;case"deletePatient":h(),y(),u.info("Acción cancelada");break;case"deleteAdmin":p(),u.info("Acción cancelada");break;case"addRoutine":w(),u.info("Acción cancelada");break;case"addExerciseToRoutine":x(),u.info("Acción cancelada");break;case"deleteRoutine":O(),u.info("Acción cancelada");break;case"editRoutine":j(),a(),u.info("Acción cancelada");break;case"deleteExercise":$(),u.info("Acción cancelada");break;case"manageTablets":N(),u.info("Acción cancelada");break;case"editExercise":b(),a(),u.info("Acción cancelada");break}},S=async c=>{if(c.preventDefault(),c.stopPropagation(),r==null)throw u.warning("Error en los datos del modal"),new Error("Error en los datos del modal");if(o==="changePassword"&&r)try{r=r,T(r);const i={email:r==null?void 0:r.email,newPassword:r==null?void 0:r.newPassword};await vt.ChangePasswordService(i),a(),g()}catch(i){console.error(i),u.error("Error al cambiar la contraseña")}else if(o==="manageTablets"&&r)try{const i=r;if(i.operation==="create"){const R={patient_id:i.patient_id,treatment_time:i.treatment_time,treatment_cadence:i.treatment_cadence};await Z.CreateTablet(R)}if(i.operation==="update"){const R={id:i.tablet_id,patient_id:i.patient_id,treatment_time:i.treatment_time,treatment_cadence:i.treatment_cadence};await Z.UpdateTablet(R)}i.operation==="delete"&&i.tablet_id&&await se.DeleteTablet(i.tablet_id),a(),N(),u.success("Tableta asignada con éxito")}catch(i){console.error(i),u.error("Error al asignar la tableta")}else if(o==="registerPatient"&&r)try{r=r;const i={name:r==null?void 0:r.name,surname:r==null?void 0:r.surname,age:r==null?void 0:r.age,gender:r==null?void 0:r.gender,routine_id:r==null?void 0:r.routine_id};await Gn(i),a(),f()}catch(i){console.error(i),u.error("Error al registrar el paciente")}else if(o==="deletePatient")try{await se.DeletePatient(r),u.success("Paciente eliminado con éxito"),h(),a()}catch(i){console.error(i),u.error("Error al eliminar el paciente")}else if(o==="deleteAdmin")try{await se.DeleteAdmin(r),a(),setTimeout(()=>{},3e3);const R=JSON.parse(window.localStorage.getItem("user")||"{}").email;r===R&&(window.localStorage.clear(),window.location.href="/"),p()}catch(i){console.error(i),u.error("Error al eliminar el administrador")}else if(o==="editRoutine"&&r)try{const i=r,R={routine_id:i.routine_id,name:i.name,description:i.description,estimatedTime:i.estimatedTime,patient_id:i.patient_id};a(),await Z.EditRoutineService(R),u.success("! Rutina actualizada ! 🎉"),j()}catch(i){console.error(i),u.error("Error al editar la rutina")}else if(o==="editExercise"&&r)try{const i=r,R={id:i.id,name:i.name,description:i.description,routine_ids:i.routine_ids};await Z.EditExerciseService(R),a(),u.success("! Ejercicio actualizado ! 🎉"),b()}catch(i){console.error(i),u.error("Error al editar el ejercicio")}else if(o==="addRoutine"&&r)try{const i=r,R=JSON.parse(window.localStorage.getItem("user")||"{}"),{hasRoutine:H}=await Xe.checkHasRoutine(i.patient_id);if(H!==!1){k();return}const z={name:i.name,description:i.description,estimatedTime:i.estimatedTime,user_id:R.id,patient_id:i.patient_id};await Z.AddRoutineService(z),a(),u.success("Rutina añadida con éxito"),w()}catch(i){console.error(i),u.error("Error al añadir la rutina")}else if(o==="addExerciseToRoutine"&&r)try{const i=r,R={name:i.name,description:i.description,routine_name:i.routine_name};await Z.AddExerciseToRoutineService(R),a(),u.success("Ejercicio añadido con éxito"),x()}catch(i){console.error(i),u.error("Error al añadir el ejercicio a la rutina")}else if(o==="deleteRoutine")try{await se.DeleteRoutine(r),a(),u.success("Rutina eliminada con éxito"),O()}catch(i){console.error(i),u.error("Error al eliminar la rutina")}else if(o==="deleteExercise")try{await se.DeleteExercise(r),a(),u.success("Ejercicio eliminado con éxito"),$()}catch(i){console.error(i),u.error("Error al eliminar el ejercicio")}else throw C(c),console.error("Error en la acción del modal"),new Error("Error en la acción del modal")};return l.jsxs(l.Fragment,{children:[l.jsx(Tt,{richColors:!0}),l.jsxs(ie,{show:e,onHide:()=>C,backdrop:"static",children:[l.jsxs(ie.Header,{className:d==="dark"?"header-modal":"",children:[l.jsx(ie.Title,{children:t}),l.jsx("button",{className:d==="dark"?"icon-modal2 pt-1":"icon-modal pt-1",onClick:C,children:l.jsx(wt,{size:"small",icon:yt})})]}),l.jsx(ie.Body,{className:d==="dark"?"body-modal":"",children:n}),l.jsx(ie.Footer,{className:d==="dark"?"footer-modal":"",children:l.jsx(Rt,{type:"submit",className:d==="dark"?"save-modal":"save-modal2",variant:"primary",onClick:S,children:"Save Changes"})})]})]})};Qn.__docgenInfo={description:"",methods:[],displayName:"ModalWindow"};export{Fn as A,Sn as B,Qe as F,Qn as M,Vt as T,zt as a,le as b,fr as c,ln as d,We as e,Yt as f,ot as g,Nn as h,_n as i,J as q,W as s,Wt as t,B as u};
