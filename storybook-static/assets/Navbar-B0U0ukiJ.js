import{j as n}from"./jsx-runtime-DoxjgJx5.js";/* empty css               */import{u as ze,b as Qe,I as H,d as qe,e as Xe,f as Ye,B as Ze,o as Ve}from"./index-CCAvIOUn.js";import{T as pe,t as he,s as le,a as De,u as Q,d as ne,b as et,c as tt,q as nt,e as ot,A as at,f as rt,g as st,B as lt,F as it,h as ct,i as dt,M as U}from"./Modal-DvMOhwvL.js";import{u as M}from"./useGlobalState-BC4VoH9w.js";import{r as u,a as ie}from"./index-Cu9bd8lq.js";import{F as v}from"./Form-8tuLUNbZ.js";import{L as ut,A as mt}from"./LoginService-CmO1VqF6.js";import{a as ft}from"./index-CeseEJRd.js";import{a as pt}from"./schemas-rfPO-qWq.js";import{u as ht}from"./index.esm-Bebovizm.js";import{t as vt}from"./zod-Cul73vRk.js";/* empty css                     */import{G}from"./GetDataService-Bc2cEZCe.js";import{J as gt,A as J}from"./index-B9YNeJOq.js";import{c as S,u as $}from"./ThemeProvider-CWR1dq9Q.js";import{_ as xt}from"./extends-CCbyfPlC.js";import{_ as bt}from"./objectWithoutPropertiesLoose-1QL-frMM.js";import{E as Ct,a as ve,b as oe,c as ge}from"./Transition-CjjVMZtN.js";function ce(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Nt(e){var o=wt(e,"string");return typeof o=="symbol"?o:String(o)}function wt(e,o){if(typeof e!="object"||e===null)return e;var l=e[Symbol.toPrimitive];if(l!==void 0){var r=l.call(e,o||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}function jt(e,o,l){var r=u.useRef(e!==void 0),a=u.useState(o),t=a[0],c=a[1],i=e!==void 0,m=r.current;return r.current=i,!i&&m&&t!==o&&c(o),[i?e:t,u.useCallback(function(f){for(var d=arguments.length,p=new Array(d>1?d-1:0),s=1;s<d;s++)p[s-1]=arguments[s];l&&l.apply(void 0,[f].concat(p)),c(f)},[l])]}function xe(e,o){return Object.keys(o).reduce(function(l,r){var a,t=l,c=t[ce(r)],i=t[r],m=bt(t,[ce(r),r].map(Nt)),f=o[r],d=jt(i,c,e[f]),p=d[0],s=d[1];return xt({},m,(a={},a[r]=p,a[f]=s,a))},e)}function B(...e){return e.filter(o=>o!=null).reduce((o,l)=>{if(typeof l!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return o===null?l:function(...a){o.apply(this,a),l.apply(this,a)}},null)}const yt={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function kt(e,o){const l=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=o[l],a=yt[e];return r+parseInt(le(o,a[0]),10)+parseInt(le(o,a[1]),10)}const Mt={[Ct]:"collapse",[ve]:"collapsing",[oe]:"collapsing",[ge]:"collapse show"},St=ie.forwardRef(({onEnter:e,onEntering:o,onEntered:l,onExit:r,onExiting:a,className:t,children:c,dimension:i="height",in:m=!1,timeout:f=300,mountOnEnter:d=!1,unmountOnExit:p=!1,appear:s=!1,getDimensionValue:b=kt,...x},C)=>{const g=typeof i=="function"?i():i,h=u.useMemo(()=>B(w=>{w.style[g]="0"},e),[g,e]),y=u.useMemo(()=>B(w=>{const E=`scroll${g[0].toUpperCase()}${g.slice(1)}`;w.style[g]=`${w[E]}px`},o),[g,o]),N=u.useMemo(()=>B(w=>{w.style[g]=null},l),[g,l]),k=u.useMemo(()=>B(w=>{w.style[g]=`${b(g,w)}px`,De(w)},r),[r,b,g]),I=u.useMemo(()=>B(w=>{w.style[g]=null},a),[g,a]);return n.jsx(pe,{ref:C,addEndListener:he,...x,"aria-expanded":x.role?m:null,onEnter:h,onEntering:y,onEntered:N,onExit:k,onExiting:I,childRef:c.ref,in:m,timeout:f,mountOnEnter:d,unmountOnExit:p,appear:s,children:(w,E)=>ie.cloneElement(c,{...E,className:S(t,c.props.className,Mt[w],g==="width"&&"collapse-horizontal")})})}),$t=St,It=["onKeyDown"];function Et(e,o){if(e==null)return{};var l={},r=Object.keys(e),a,t;for(t=0;t<r.length;t++)a=r[t],!(o.indexOf(a)>=0)&&(l[a]=e[a]);return l}function Rt(e){return!e||e.trim()==="#"}const be=u.forwardRef((e,o)=>{let{onKeyDown:l}=e,r=Et(e,It);const[a]=ze(Object.assign({tagName:"a"},r)),t=Q(c=>{a.onKeyDown(c),l==null||l(c)});return Rt(r.href)||r.role==="button"?n.jsx("a",Object.assign({ref:o},r,a,{onKeyDown:t})):n.jsx("a",Object.assign({ref:o},r,{onKeyDown:l}))});be.displayName="Anchor";const Tt=be,Ce=u.createContext(null);Ce.displayName="CardHeaderContext";const Ot=Ce,Ne=u.forwardRef(({bsPrefix:e,fluid:o=!1,as:l="div",className:r,...a},t)=>{const c=$(e,"container"),i=typeof o=="string"?`-${o}`:"-fluid";return n.jsx(l,{ref:t,...a,className:S(r,o?`${c}${i}`:c)})});Ne.displayName="Container";const At=Ne;function _t(){const[,e]=u.useReducer(o=>!o,!1);return e}const Lt=u.createContext(null),ae=(e,o=null)=>e!=null?String(e):o||null,z=Lt,we=u.createContext(null);we.displayName="NavContext";const je=we,ye=u.createContext(null);ye.displayName="NavbarContext";const _=ye,Ft=u.createContext(null),ke=Ft,Bt=["as","active","eventKey"];function Kt(e,o){if(e==null)return{};var l={},r=Object.keys(e),a,t;for(t=0;t<r.length;t++)a=r[t],!(o.indexOf(a)>=0)&&(l[a]=e[a]);return l}function Me({key:e,onClick:o,active:l,id:r,role:a,disabled:t}){const c=u.useContext(z),i=u.useContext(je),m=u.useContext(ke);let f=l;const d={role:a};if(i){!a&&i.role==="tablist"&&(d.role="tab");const p=i.getControllerId(e??null),s=i.getControlledId(e??null);d[ne("event-key")]=e,d.id=p||r,f=l==null&&e!=null?i.activeKey===e:l,(f||!(m!=null&&m.unmountOnExit)&&!(m!=null&&m.mountOnEnter))&&(d["aria-controls"]=s)}return d.role==="tab"&&(d["aria-selected"]=f,f||(d.tabIndex=-1),t&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=Q(p=>{t||(o==null||o(p),e!=null&&c&&!p.isPropagationStopped()&&c(e,p))}),[d,{isActive:f}]}const Se=u.forwardRef((e,o)=>{let{as:l=Qe,active:r,eventKey:a}=e,t=Kt(e,Bt);const[c,i]=Me(Object.assign({key:ae(a,t.href),active:r},t));return c[ne("active")]=i.isActive,n.jsx(l,Object.assign({},t,c,{ref:o}))});Se.displayName="NavItem";const Gt=Se,Pt=["as","onSelect","activeKey","role","onKeyDown"];function Ht(e,o){if(e==null)return{};var l={},r=Object.keys(e),a,t;for(t=0;t<r.length;t++)a=r[t],!(o.indexOf(a)>=0)&&(l[a]=e[a]);return l}const de=()=>{},ue=ne("event-key"),$e=u.forwardRef((e,o)=>{let{as:l="div",onSelect:r,activeKey:a,role:t,onKeyDown:c}=e,i=Ht(e,Pt);const m=_t(),f=u.useRef(!1),d=u.useContext(z),p=u.useContext(ke);let s,b;p&&(t=t||"tablist",a=p.activeKey,s=p.getControlledId,b=p.getControllerId);const x=u.useRef(null),C=N=>{const k=x.current;if(!k)return null;const I=nt(k,`[${ue}]:not([aria-disabled=true])`),w=k.querySelector("[aria-selected=true]");if(!w||w!==document.activeElement)return null;const E=I.indexOf(w);if(E===-1)return null;let R=E+N;return R>=I.length&&(R=0),R<0&&(R=I.length-1),I[R]},g=(N,k)=>{N!=null&&(r==null||r(N,k),d==null||d(N,k))},h=N=>{if(c==null||c(N),!p)return;let k;switch(N.key){case"ArrowLeft":case"ArrowUp":k=C(-1);break;case"ArrowRight":case"ArrowDown":k=C(1);break;default:return}k&&(N.preventDefault(),g(k.dataset[tt("EventKey")]||null,N),f.current=!0,m())};u.useEffect(()=>{if(x.current&&f.current){const N=x.current.querySelector(`[${ue}][aria-selected=true]`);N==null||N.focus()}f.current=!1});const y=et(o,x);return n.jsx(z.Provider,{value:g,children:n.jsx(je.Provider,{value:{role:t,activeKey:ae(a),getControlledId:s||de,getControllerId:b||de},children:n.jsx(l,Object.assign({},i,{onKeyDown:h,ref:y,role:t}))})})});$e.displayName="Nav";const Ut=Object.assign($e,{Item:Gt});var me={exports:{}},ee={exports:{}};(function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=l;function l(r){function a(c,i,m,f,d,p){var s=f||"<<anonymous>>",b=p||m;if(i[m]==null)return c?new Error("Required "+d+" `"+b+"` was not specified "+("in `"+s+"`.")):null;for(var x=arguments.length,C=Array(x>6?x-6:0),g=6;g<x;g++)C[g-6]=arguments[g];return r.apply(void 0,[i,m,s,d,b].concat(C))}var t=a.bind(null,!1);return t.isRequired=a.bind(null,!0),t}e.exports=o.default})(ee,ee.exports);var Jt=ee.exports;(function(e,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=t;var l=Jt,r=a(l);function a(c){return c&&c.__esModule?c:{default:c}}function t(){for(var c=arguments.length,i=Array(c),m=0;m<c;m++)i[m]=arguments[m];function f(){for(var d=arguments.length,p=Array(d),s=0;s<d;s++)p[s]=arguments[s];var b=null;return i.forEach(function(x){if(b==null){var C=x.apply(void 0,p);C!=null&&(b=C)}}),b}return(0,r.default)(f)}e.exports=o.default})(me,me.exports);const Ie=u.forwardRef(({className:e,bsPrefix:o,as:l="div",...r},a)=>(o=$(o,"nav-item"),n.jsx(l,{ref:a,className:S(e,o),...r})));Ie.displayName="NavItem";const Wt=Ie,Ee=u.forwardRef(({bsPrefix:e,className:o,as:l=Tt,active:r,eventKey:a,disabled:t=!1,...c},i)=>{e=$(e,"nav-link");const[m,f]=Me({key:ae(a,c.href),active:r,disabled:t,...c});return n.jsx(l,{...c,...m,ref:i,disabled:t,className:S(o,e,t&&"disabled",f.isActive&&"active")})});Ee.displayName="NavLink";const zt=Ee,Re=u.forwardRef((e,o)=>{const{as:l="div",bsPrefix:r,variant:a,fill:t=!1,justify:c=!1,navbar:i,navbarScroll:m,className:f,activeKey:d,...p}=xe(e,{activeKey:"onSelect"}),s=$(r,"nav");let b,x,C=!1;const g=u.useContext(_),h=u.useContext(Ot);return g?(b=g.bsPrefix,C=i??!0):h&&({cardHeaderBsPrefix:x}=h),n.jsx(Ut,{as:l,ref:o,activeKey:d,className:S(f,{[s]:!C,[`${b}-nav`]:C,[`${b}-nav-scroll`]:C&&m,[`${x}-${a}`]:!!x,[`${s}-${a}`]:!!a,[`${s}-fill`]:t,[`${s}-justified`]:c}),...p})});Re.displayName="Nav";const K=Object.assign(Re,{Item:Wt,Link:zt}),Te=u.forwardRef(({bsPrefix:e,className:o,as:l,...r},a)=>{e=$(e,"navbar-brand");const t=l||(r.href?"a":"span");return n.jsx(t,{...r,ref:a,className:S(o,e)})});Te.displayName="NavbarBrand";const Qt=Te,Oe=u.forwardRef(({children:e,bsPrefix:o,...l},r)=>{o=$(o,"navbar-collapse");const a=u.useContext(_);return n.jsx($t,{in:!!(a&&a.expanded),...l,children:n.jsx("div",{ref:r,className:o,children:e})})});Oe.displayName="NavbarCollapse";const qt=Oe,Ae=u.forwardRef(({bsPrefix:e,className:o,children:l,label:r="Toggle navigation",as:a="button",onClick:t,...c},i)=>{e=$(e,"navbar-toggler");const{onToggle:m,expanded:f}=u.useContext(_)||{},d=Q(p=>{t&&t(p),m&&m()});return a==="button"&&(c.type="button"),n.jsx(a,{...c,ref:i,onClick:d,"aria-label":r,className:S(o,e,!f&&"collapsed"),children:l||n.jsx("span",{className:`${e}-icon`})})});Ae.displayName="NavbarToggle";const Xt=Ae,te=new WeakMap,fe=(e,o)=>{if(!e||!o)return;const l=te.get(o)||new Map;te.set(o,l);let r=l.get(e);return r||(r=o.matchMedia(e),r.refCount=0,l.set(r.media,r)),r};function Yt(e,o=typeof window>"u"?void 0:window){const l=fe(e,o),[r,a]=u.useState(()=>l?l.matches:!1);return ot(()=>{let t=fe(e,o);if(!t)return a(!1);let c=te.get(o);const i=()=>{a(t.matches)};return t.refCount++,t.addListener(i),i(),()=>{t.removeListener(i),t.refCount--,t.refCount<=0&&(c==null||c.delete(t.media)),t=void 0}},[e]),r}function Zt(e){const o=Object.keys(e);function l(i,m){return i===m?m:i?`${i} and ${m}`:m}function r(i){return o[Math.min(o.indexOf(i)+1,o.length-1)]}function a(i){const m=r(i);let f=e[m];return typeof f=="number"?f=`${f-.2}px`:f=`calc(${f} - 0.2px)`,`(max-width: ${f})`}function t(i){let m=e[i];return typeof m=="number"&&(m=`${m}px`),`(min-width: ${m})`}function c(i,m,f){let d;typeof i=="object"?(d=i,f=m,m=!0):(m=m||!0,d={[i]:m});let p=u.useMemo(()=>Object.entries(d).reduce((s,[b,x])=>((x==="up"||x===!0)&&(s=l(s,t(b))),(x==="down"||x===!0)&&(s=l(s,a(b))),s),""),[JSON.stringify(d)]);return Yt(p,f)}return c}const Vt=Zt({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),_e=u.forwardRef(({className:e,bsPrefix:o,as:l="div",...r},a)=>(o=$(o,"offcanvas-body"),n.jsx(l,{ref:a,className:S(e,o),...r})));_e.displayName="OffcanvasBody";const Dt=_e,en={[oe]:"show",[ge]:"show"},Le=u.forwardRef(({bsPrefix:e,className:o,children:l,in:r=!1,mountOnEnter:a=!1,unmountOnExit:t=!1,appear:c=!1,...i},m)=>(e=$(e,"offcanvas"),n.jsx(pe,{ref:m,addEndListener:he,in:r,mountOnEnter:a,unmountOnExit:t,appear:c,...i,childRef:l.ref,children:(f,d)=>u.cloneElement(l,{...d,className:S(o,l.props.className,(f===oe||f===ve)&&`${e}-toggling`,en[f])})})));Le.displayName="OffcanvasToggling";const tn=Le,Fe=u.forwardRef(({bsPrefix:e,className:o,closeLabel:l="Close",closeButton:r=!1,...a},t)=>(e=$(e,"offcanvas-header"),n.jsx(at,{ref:t,...a,className:S(o,e),closeLabel:l,closeButton:r})));Fe.displayName="OffcanvasHeader";const nn=Fe,on=rt("h5"),Be=u.forwardRef(({className:e,bsPrefix:o,as:l=on,...r},a)=>(o=$(o,"offcanvas-title"),n.jsx(l,{ref:a,className:S(e,o),...r})));Be.displayName="OffcanvasTitle";const an=Be;function rn(e){return n.jsx(tn,{...e})}function sn(e){return n.jsx(it,{...e})}const Ke=u.forwardRef(({bsPrefix:e,className:o,children:l,"aria-labelledby":r,placement:a="start",responsive:t,show:c=!1,backdrop:i=!0,keyboard:m=!0,scroll:f=!1,onEscapeKeyDown:d,onShow:p,onHide:s,container:b,autoFocus:x=!0,enforceFocus:C=!0,restoreFocus:g=!0,restoreFocusOptions:h,onEntered:y,onExit:N,onExiting:k,onEnter:I,onEntering:w,onExited:E,backdropClassName:R,manager:O,renderStaticNode:q=!1,...X},Y)=>{const L=u.useRef();e=$(e,"offcanvas");const{onToggle:P}=u.useContext(_)||{},[F,Z]=u.useState(!1),j=Vt(t||"xs","up");u.useEffect(()=>{Z(t?c&&!j:c)},[c,t,j]);const A=Q(()=>{P==null||P(),s==null||s()}),re=u.useMemo(()=>({onHide:A}),[A]);function V(){return O||(f?(L.current||(L.current=new ct({handleContainerOverflow:!1})),L.current):dt())}const Ue=(T,...D)=>{T&&(T.style.visibility="visible"),I==null||I(T,...D)},Je=(T,...D)=>{T&&(T.style.visibility=""),E==null||E(...D)},We=u.useCallback(T=>n.jsx("div",{...T,className:S(`${e}-backdrop`,R)}),[R,e]),se=T=>n.jsx("div",{...T,...X,className:S(o,t?`${e}-${t}`:e,`${e}-${a}`),"aria-labelledby":r,children:l});return n.jsxs(n.Fragment,{children:[!F&&(t||q)&&se({}),n.jsx(st.Provider,{value:re,children:n.jsx(lt,{show:F,ref:Y,backdrop:i,container:b,keyboard:m,autoFocus:x,enforceFocus:C&&!f,restoreFocus:g,restoreFocusOptions:h,onEscapeKeyDown:d,onShow:p,onHide:A,onEnter:Ue,onEntering:w,onEntered:y,onExit:N,onExiting:k,onExited:Je,manager:V(),transition:rn,backdropTransition:sn,renderBackdrop:We,renderDialog:se})})]})});Ke.displayName="Offcanvas";const ln=Object.assign(Ke,{Body:Dt,Header:nn,Title:an}),Ge=u.forwardRef((e,o)=>{const l=u.useContext(_);return n.jsx(ln,{ref:o,show:!!(l!=null&&l.expanded),...e,renderStaticNode:!0})});Ge.displayName="NavbarOffcanvas";const cn=Ge,Pe=u.forwardRef(({className:e,bsPrefix:o,as:l="span",...r},a)=>(o=$(o,"navbar-text"),n.jsx(l,{ref:a,className:S(e,o),...r})));Pe.displayName="NavbarText";const dn=Pe,He=u.forwardRef((e,o)=>{const{bsPrefix:l,expand:r=!0,variant:a="light",bg:t,fixed:c,sticky:i,className:m,as:f="nav",expanded:d,onToggle:p,onSelect:s,collapseOnSelect:b=!1,...x}=xe(e,{expanded:"onToggle"}),C=$(l,"navbar"),g=u.useCallback((...N)=>{s==null||s(...N),b&&d&&(p==null||p(!1))},[s,b,d,p]);x.role===void 0&&f!=="nav"&&(x.role="navigation");let h=`${C}-expand`;typeof r=="string"&&(h=`${h}-${r}`);const y=u.useMemo(()=>({onToggle:()=>p==null?void 0:p(!d),bsPrefix:C,expanded:!!d,expand:r}),[C,d,r,p]);return n.jsx(_.Provider,{value:y,children:n.jsx(z.Provider,{value:g,children:n.jsx(f,{ref:o,...x,className:S(m,C,r&&h,a&&`${C}-${a}`,t&&`bg-${t}`,i&&`sticky-${i}`,c&&`fixed-${c}`)})})})});He.displayName="Navbar";const W=Object.assign(He,{Brand:Qt,Collapse:qt,Offcanvas:cn,Text:dn,Toggle:Xt});function un(){const e=M(i=>i.theme),o=M(i=>i.showChangePasswordModal),l=M(i=>i.toggleChangePasswordModal),r="Cambio de Contraseña",[a,t]=u.useState({email:"",password:"",newPassword:""}),c=n.jsxs(v,{children:[n.jsxs(v.Group,{className:"mb-3",controlId:"changePasswordForm.ControlInput1",children:[n.jsx(v.Label,{children:"Email"}),n.jsx(v.Control,{onChange:i=>t({email:i.target.value,password:a==null?void 0:a.password,newPassword:a==null?void 0:a.newPassword}),type:"email",placeholder:"Ingrese su email",autoFocus:!0,className:e==="dark"?"dark-input":"dark-input2"})]}),n.jsxs(v.Group,{className:"mb-3",controlId:"changePasswordForm.ControlInput2",children:[n.jsx(v.Label,{children:"Nueva Contraseña"}),n.jsx(v.Control,{onChange:i=>t({email:a==null?void 0:a.email,password:i.target.value,newPassword:a==null?void 0:a.newPassword}),type:"password",placeholder:"Al menos 6 caracteres",autoFocus:!0,className:e==="dark"?"dark-input":"dark-input2"})]}),n.jsxs(v.Group,{className:"mb-3",controlId:"changePasswordForm.ControlInput3",children:[n.jsx(v.Label,{children:"Repetir Nueva Contraseña"}),n.jsx(v.Control,{onChange:i=>t({email:a==null?void 0:a.email,password:a==null?void 0:a.password,newPassword:i.target.value}),type:"password",placeholder:"Las contraseñas deben coincidir",className:e==="dark"?"dark-input":"dark-input2"})]})]});return((a==null?void 0:a.email)===""||(a==null?void 0:a.password)===""||(a==null?void 0:a.newPassword)==="")&&t(null),{showModalChangePassword:o,toggleModalChangePassword:l,modalTitleChangePassword:r,modalContentChangePassword:c,theme:e,changePasswordData:a}}function mn(){const e=ft();return{logout:()=>{const l=JSON.parse(window.localStorage.getItem("user")||"{}");if(!l)return;const r={email:l.email};ut.LogoutService(r),mt.removeToken(),window.localStorage.removeItem("user"),e("/"),window.location.reload()}}}function fn(){const{handleSubmit:e,formState:{errors:o}}=ht({resolver:vt(pt),defaultValues:{name:"",surname:"",age:void 0,gender:void 0,routine_id:0}}),[l,r]=u.useState({message:"",severity:"error"});u.useEffect(()=>{o.name&&r({message:"El nombre debe tener al menos 3 caracteres",severity:"error"}),o.surname&&r({message:"Los apellidos deben tener al menos 6 caracteres",severity:"error"}),o.age&&r({message:"La edad debe ser un numero entero positivo",severity:"error"}),o.gender&&r({message:"El genero debe ser válido",severity:"error"}),o.routine_id&&r({message:"La rutina debe ser válida",severity:"error"})},[o]);const a=s=>{console.log(s)},[t,c]=u.useState(void 0),i=M(s=>s.theme),m=M(s=>s.showRegisterPatientModal),f=M(s=>s.toggleRegisterPatientModal),d="Registro de Paciente",p=n.jsxs(v,{onSubmit:e(a),children:[n.jsxs(v.Group,{className:"mb-3",controlId:"registerPatientForm.ControlInput1",children:[n.jsx(v.Label,{children:"Nombre"}),n.jsx(v.Control,{onChange:s=>c({name:s.target.value,surname:t==null?void 0:t.surname,age:t==null?void 0:t.age,gender:t==null?void 0:t.gender,routine_id:t==null?void 0:t.routine_id}),type:"text",placeholder:"Nombre del paciente",autoFocus:!0,className:i==="dark"?"dark-input":"dark-input2"})]}),n.jsxs(v.Group,{className:"mb-3",controlId:"registerPatientForm.ControlInput2",children:[n.jsx(v.Label,{children:"Apellidos"}),n.jsx(v.Control,{onChange:s=>c({name:t==null?void 0:t.name,surname:s.target.value,age:t==null?void 0:t.age,gender:t==null?void 0:t.gender,routine_id:t==null?void 0:t.routine_id}),type:"text",placeholder:"Apellidos del paciente",className:i==="dark"?"dark-input":"dark-input2"})]}),n.jsxs(v.Group,{className:"mb-3",controlId:"registerPatientForm.ControlInput3",children:[n.jsx(v.Label,{children:"Edad"}),n.jsx(v.Control,{onChange:s=>c({name:t==null?void 0:t.name,surname:t==null?void 0:t.surname,age:Number(s.target.value),gender:t==null?void 0:t.gender,routine_id:t==null?void 0:t.routine_id}),type:"number",placeholder:"Edad del paciente",className:i==="dark"?"dark-input":"dark-input2"})]}),n.jsxs(v.Group,{className:"mb-3",controlId:"registerPatientForm.SelectCustom1",children:[n.jsx(v.Label,{children:"Género"}),n.jsxs(v.Select,{onChange:s=>c({name:t==null?void 0:t.name,surname:t==null?void 0:t.surname,age:t==null?void 0:t.age,gender:s.target.value,routine_id:t==null?void 0:t.routine_id}),"aria-label":"Default select",className:i==="dark"?"dark-input":"dark-input2",children:[n.jsx("option",{children:"Seleccionar entre..."}),n.jsx("option",{value:"Masculino",children:"Masculino"}),n.jsx("option",{value:"Femenino",children:"Femenino"}),n.jsx("option",{value:"Otro",children:"Otro"})]})]})]});return{errorMessage:l,showModalRegisterPatient:m,toggleModalRegisterPatient:f,modalTitleRegisterPatient:d,modalContentRegisterPatient:p,theme:i,registerPatientData:t}}function pn(){const e=M(d=>d.theme),o=M(d=>d.showDeleteAdminModal),l=M(d=>d.toggleDeleteAdminModal),[r,a]=u.useState(void 0),[t,c]=u.useState();u.useEffect(()=>{(async()=>{try{const p=await G.getUsers();c(p)}catch(p){throw console.error(p),new Error("Error al obtener los administradores")}})()},[]);const i=d=>{d.preventDefault(),a(d.target.value)},m="Dar de baja a un administrador",f=n.jsx(v,{children:n.jsxs(v.Group,{className:"mb-3",controlId:"changePasswordForm.ControlInput1",children:[n.jsx(v.Label,{style:{marginLeft:"0.2rem"},children:"Seleccione el administrador a eliminar"}),n.jsx(v.Select,{onChange:i,autoFocus:!0,"aria-label":"Default select",className:e==="dark"?"dark-input":"dark-input2",children:t==null?void 0:t.map((d,p)=>n.jsx("option",{value:d.email,children:d.name+" --> "+d.email},p))})]})});return{showModalDeleteAdmin:o,toggleModalDeleteAdmin:l,modalTitleDeleteAdmin:m,modalContentDeleteAdmin:f,theme:e,userSelected:r}}function hn(){var C,g;const e=M(h=>h.theme),o=M(h=>h.patients),l=M(h=>h.showManageTabletsModal),r=M(h=>h.toggleManageTabletsModal),[a,t]=u.useState(""),[c,i]=u.useState([]),[m,f]=u.useState(!1);u.useEffect(()=>{G.getTablets().then(h=>{i(h)})},[]);const d="Administración de Tablets",p=h=>{t(h.target.value),f(!0)},[s,b]=u.useState({patient_id:0,tablet_id:0,treatment_time:0,treatment_cadence:0,operation:"create"}),x=n.jsxs(n.Fragment,{children:[n.jsx(v,{children:n.jsxs(v.Group,{className:"mb-3",controlId:"manageTabletsForm.ControlInput5",children:[n.jsx(v.Label,{children:"Seleccione acción"}),n.jsxs(v.Select,{onChange:p,autoFocus:!0,"aria-label":"Default select",className:e==="dark"?"dark-input":"dark-input2",children:[n.jsx("option",{value:"select",children:"Seleccione una acción"}),n.jsx("option",{value:"delete",children:"Borrar tablet"}),n.jsx("option",{value:"update",children:"Actualizar tablet existente"}),n.jsx("option",{value:"create",children:"Añadir nueva tablet al sistema"})]})]})}),n.jsxs(v,{children:[a!=="create"&&n.jsx(n.Fragment,{children:n.jsxs(v.Group,{className:"mb-3",controlId:"manageTabletsForm.ControlInput2",children:[n.jsx(v.Label,{children:"Seleccione el número de tablet para la acción"}),n.jsx(v.Select,{onChange:h=>b({patient_id:s==null?void 0:s.patient_id,tablet_id:Number(h.target.value),treatment_time:s==null?void 0:s.treatment_time,treatment_cadence:s==null?void 0:s.treatment_cadence,operation:a}),autoFocus:!0,className:e==="dark"?"dark-input":"dark-input2",children:c.map((h,y)=>n.jsx("option",{value:h.id,children:h.id},y))})]})}),m&&a!=="delete"&&n.jsxs(n.Fragment,{children:[n.jsxs(v.Group,{className:"mb-3",controlId:"manageTabletsForm.ControlInput1",children:[n.jsx(v.Label,{children:"Paciente al que asociar la tablet"}),n.jsxs(v.Select,{onChange:h=>b({patient_id:Number(h.target.value),tablet_id:s==null?void 0:s.tablet_id,treatment_time:s==null?void 0:s.treatment_time,treatment_cadence:s==null?void 0:s.treatment_cadence,operation:a}),autoFocus:!0,className:e==="dark"?"dark-input":"dark-input2",children:[n.jsx("option",{value:"select",children:"Seleccione un paciente"}),a==="update"&&((C=o==null?void 0:o.filter(h=>{var y;return h.id===((y=c.find(N=>N.id===(s==null?void 0:s.tablet_id)))==null?void 0:y.patient_id)}))==null?void 0:C.map((h,y)=>n.jsx("option",{value:h.id,children:h.name+" "+h.surname},y))),(g=o==null?void 0:o.filter(h=>!c.some(y=>y.patient_id===h.id)))==null?void 0:g.map((h,y)=>n.jsx("option",{value:h.id,children:h.name+" "+h.surname},y))]})]}),n.jsxs(v.Group,{className:"mb-3",controlId:"manageTabletsForm.ControlInput3",children:[n.jsx(v.Label,{children:"Duración del tratamiento (en días)"}),n.jsx(v.Control,{onChange:h=>b({patient_id:s==null?void 0:s.patient_id,tablet_id:s==null?void 0:s.tablet_id,treatment_time:Number(h.target.value),treatment_cadence:s==null?void 0:s.treatment_cadence,operation:a}),type:"number",placeholder:"Duración del tratamiento en días",className:e==="dark"?"dark-input":"dark-input2"})]}),n.jsxs(v.Group,{className:"mb-3",controlId:"manageTabletsForm.ControlInput4",children:[n.jsx(v.Label,{children:"Cadencia semanal del tratamiento (días por semana)"}),n.jsx(v.Control,{onChange:h=>b({patient_id:s==null?void 0:s.patient_id,tablet_id:s==null?void 0:s.tablet_id,treatment_time:s==null?void 0:s.treatment_time,treatment_cadence:Number(h.target.value),operation:a}),type:"number",placeholder:"Cadencia semanal del tratamiento en días por semana",className:e==="dark"?"dark-input":"dark-input2"})]})]})]})]});return{setTablets:i,showModalManageTablets:l,toggleModalManageTablets:r,modalTitleManageTablets:d,modalContentManageTablets:x,theme:e,manageTabletsData:s}}const vn=({styledClassName:e,brandName:o,imageSrcPath:l})=>{const r=M(j=>j.theme),a=M(j=>j.setPatients),{showModalDeleteAdmin:t,toggleModalDeleteAdmin:c,modalTitleDeleteAdmin:i,modalContentDeleteAdmin:m,userSelected:f}=pn(),{changePasswordData:d,toggleModalChangePassword:p,showModalChangePassword:s,modalContentChangePassword:b,modalTitleChangePassword:x}=un(),{logout:C}=mn(),{registerPatientData:g,modalContentRegisterPatient:h,modalTitleRegisterPatient:y,showModalRegisterPatient:N,toggleModalRegisterPatient:k}=fn(),{showModalManageTablets:I,toggleModalManageTablets:w,modalTitleManageTablets:E,modalContentManageTablets:R,manageTabletsData:O,setTablets:q}=hn(),X=j=>{j.preventDefault(),p()},Y=j=>{j.preventDefault(),k()},L=j=>{j.preventDefault(),c()},P=j=>{j.preventDefault(),w()},F=async()=>{try{const j=await G.getPatients();a(j),J.success("Paciente registrado con éxito")}catch(j){throw console.error(j),new Error("Error al obtener los pacientes")}},Z=async()=>{try{if((O==null?void 0:O.operation)==="create"){const A=await G.getTablets(),V=A[A.length-1].id;return J.info(`Tablet registrada con el ID: ${V}`)}F();const j=await G.getTablets();q(j)}catch(j){throw console.error(j),new Error("Error al obtener las tablets")}};return n.jsxs(W,{className:e,expand:"lg",children:[n.jsx(gt,{richColors:!0}),n.jsxs(At,{className:"container-fluid mx-0 contenedor-navbar",children:[n.jsx(W.Brand,{children:n.jsxs(K.Link,{className:"navbar-brand",href:"/home",children:[n.jsx("img",{src:l,width:"80",height:"80",className:"d-inline-block align-center",alt:"logo-image-physioterapist"}),n.jsx("span",{className:r==="light"?"fw-bolder fs-4 brand-label-light":"fw-bolder fs-4 brand-label",children:o})]})}),n.jsx(W.Toggle,{"aria-controls":"responsive-navbar-nav"}),n.jsx(W.Collapse,{id:"responsive-navbar-nav",children:n.jsxs(K,{className:"me-auto justify-content-end w-100",children:[n.jsxs(K.Link,{href:"/home",className:"active text-uppercase fw-bold px-4",id:r==="light"?"text-inactive":"text-inactive-dark",children:["Estadísticas",n.jsx(H,{icon:qe,className:"ps-2 pb-1 align-bottom"})]}),n.jsxs(K.Link,{href:"/rutinas",className:"active text-uppercase fw-bold px-4",id:r==="light"?"text-inactive":"text-inactive-dark",children:["Rutinas",n.jsx(H,{icon:Xe,className:"ps-2 pb-1 align-bottom"})]}),n.jsxs(K.Link,{href:"/ejercicios",className:"active text-uppercase fw-bold px-4 ejercicios-nav-link",id:r==="light"?"text-inactive":"text-inactive-dark",children:["Ejercicios",n.jsx(H,{icon:Ye,className:"ps-2 pb-1 align-bottom"})]})]})}),n.jsxs("div",{className:"dropdown",children:[n.jsx(Ze,{className:r==="light"?"btn-options":"btn-options-dark",children:n.jsx(H,{icon:Ve,id:r==="dark"?"main-color7":"main-color3",className:"btn-options-image"})}),n.jsxs("ul",{className:"dropdown-content",children:[n.jsx("li",{className:"dropdown-content-li dropdown-content-li-1",children:n.jsx("button",{onClick:C,className:r==="light"?"dropdown-content-button dropdown-content-button-light":"dropdown-content-button dropdown-content-button-dark",children:"LogOut"})}),n.jsxs("li",{className:"dropdown-content-li dropdown-content-li-2",children:[n.jsx("button",{onClick:X,className:r==="light"?"dropdown-content-button dropdown-content-button-light":"dropdown-content-button dropdown-content-button-dark",children:"Cambiar Contraseña"}),s&&n.jsx(U,{show:s,title:x,content:b,action:"changePassword",data:d,behavior:()=>J.success("Contraseña cambiada con éxito")})]}),n.jsxs("li",{className:"dropdown-content-li dropdown-content-li-3",children:[n.jsx("button",{onClick:L,className:r==="light"?"dropdown-content-button dropdown-content-button-light":"dropdown-content-button dropdown-content-button-dark",children:"Borrar Cuenta Administrador"}),t&&n.jsx(U,{show:t,title:i,content:m,action:"deleteAdmin",data:f,behavior:()=>J.success("Administrador eliminado con éxito")})]}),n.jsxs("li",{className:"dropdown-content-li dropdown-content-li-4",children:[n.jsx("button",{onClick:Y,className:r==="light"?"dropdown-content-button dropdown-content-button-light":"dropdown-content-button dropdown-content-button-dark",children:"Registrar Usuario"}),N&&n.jsx(U,{show:N,title:y,content:h,action:"registerPatient",data:g,behavior:F})]}),n.jsxs("li",{className:"dropdown-content-li dropdown-content-li-5",children:[n.jsx("button",{onClick:P,className:r==="light"?"dropdown-content-button dropdown-content-button-light":"dropdown-content-button dropdown-content-button-dark",children:"Administrar Tablets"}),I&&n.jsx(U,{show:I,title:E,content:R,action:"manageTablets",data:O,behavior:Z})]})]})]})]})]})};vn.__docgenInfo={description:"",methods:[],displayName:"NavBar"};export{vn as N};
